<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title != null ? title + ' - Proxima' : 'Proxima - JWT Reverse Proxy'}">Proxima</title>
    <link rel="stylesheet" th:href="@{/proxima/css/lcars.css(v=20250920-001)}">
</head>
<body>
    <div class="lcars-container">
        <!-- Header -->
        <header class="lcars-header">
            <h1 class="lcars-title">PROXIMA</h1>
            <span class="lcars-subtitle">JWT REVERSE PROXY SYSTEM</span>
            <div style="margin-left: auto; display: flex; align-items: center;">
                <span style="color: var(--lcars-black); margin-right: 10px;">SYSTEM STATUS:</span>
                <div id="system-status" class="lcars-status active" title="System Status: Online"></div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="lcars-main">
            <!-- Sidebar Navigation -->
            <nav class="lcars-sidebar">
                <a th:href="@{/proxima/ui}" class="lcars-nav-item"
                   th:classappend="${#httpServletRequest != null and (#httpServletRequest.requestURI == '/proxima/ui' or #httpServletRequest.requestURI == '/proxima/ui/') ? 'active' : ''}">
                    Dashboard
                </a>
                <a th:href="@{/proxima/ui/presets}" class="lcars-nav-item"
                   th:classappend="${#httpServletRequest != null and #strings.startsWith(#httpServletRequest.requestURI, '/proxima/ui/presets') ? 'active' : ''}">
                    Presets
                </a>
                <a th:href="@{/proxima/ui/headers}" class="lcars-nav-item"
                   th:classappend="${#httpServletRequest != null and #httpServletRequest.requestURI == '/proxima/ui/headers' ? 'active' : ''}">
                    Headers
                </a>
                <a th:href="@{/proxima/ui/routes}" class="lcars-nav-item"
                   th:classappend="${#httpServletRequest != null and #httpServletRequest.requestURI == '/proxima/ui/routes' ? 'active' : ''}">
                    Routes
                </a>
                <a th:href="@{/proxima/ui/jwt}" class="lcars-nav-item"
                   th:classappend="${#httpServletRequest != null and #httpServletRequest.requestURI == '/proxima/ui/jwt' ? 'active' : ''}">
                    JWT Tokens
                </a>
                <a th:href="@{/proxima/ui/status}" class="lcars-nav-item"
                   th:classappend="${#httpServletRequest != null and #httpServletRequest.requestURI == '/proxima/ui/status' ? 'active' : ''}">
                    Status
                </a>
                <a th:href="@{/proxima/api/docs}" class="lcars-nav-item" target="_blank">
                    API Docs
                </a>
                <a th:href="@{/actuator/health}" class="lcars-nav-item" target="_blank">
                    Health Check
                </a>
            </nav>

            <!-- Content Area -->
            <div class="lcars-content">
                <!-- Alert Container -->
                <div id="alert-container"></div>

                <!-- Page Content -->
                <div th:replace="${content}"></div>
            </div>
        </main>
    </div>

    <script th:src="@{/proxima/js/lcars.js(v=20250920-001)}"></script>
</body>
</html>